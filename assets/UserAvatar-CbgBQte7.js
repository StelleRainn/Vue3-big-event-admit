import{C as y,q as l,ah as w,o as r,g as d,w as s,t,v as E,K as x,L as A,j as n,b4 as p,E as B,z as _,cg as C,ch as L,D as R}from"./index-BNebTW0K.js";import{v as S,_ as b}from"./PageContainer-CGIomV_Y.js";import{E as h}from"./el-progress-KnFl9Sh6.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./error-Do6ODTPJ.js";import"./_baseClone-BRj6C6Ed.js";import"./isEqual-rZIpQhUY.js";const D=["src"],N={class:"button-group"},V={__name:"UserAvatar",setup($){const f=y(),o=l(!1),a=l(f.user.user_pic),c=l(),v=u=>{const e=new FileReader;e.readAsDataURL(u.raw),e.onload=()=>{a.value=e.result,console.log(a.value)}},m=async()=>{o.value=!0,await L(a.value),R.success("上传头像成功"),o.value=!1};return(u,e)=>{const g=A,k=h,i=B,U=S;return w((r(),d(b,{title:"用户头像"},{default:s(()=>[t(k,{ref_key:"uploadRef",ref:c,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":v},{default:s(()=>[a.value?(r(),x("img",{key:0,src:a.value,class:"avatar"},null,8,D)):(r(),d(g,{key:1,class:"avatar-uploader-icon"},{default:s(()=>[t(n(p))]),_:1}))]),_:1},512),E("div",N,[t(i,{onClick:e[0]||(e[0]=q=>c.value.$el.querySelector("input").click()),size:"large",type:"primary",icon:n(p)},{default:s(()=>[...e[1]||(e[1]=[_(" 选择图片 ",-1)])]),_:1},8,["icon"]),t(i,{onClick:m,size:"large",type:"success",icon:n(C)},{default:s(()=>[...e[2]||(e[2]=[_("上传图片",-1)])]),_:1},8,["icon"])])]),_:1})),[[U,o.value]])}}},H=z(V,[["__scopeId","data-v-ff7c040c"]]);export{H as default};
