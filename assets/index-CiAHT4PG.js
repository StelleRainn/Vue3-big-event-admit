import{c9 as Se,ca as Ee,bs as se,cb as Re,bq as at,bl as ot,br as st,cc as rt,aO as He,e as Ce,b as Be,I as ee,d as M,m as it,G as te,aQ as lt,aR as ut,c as g,bR as ct,a5 as $e,aD as Y,q as $,s as q,V as ne,aM as Ie,j as o,a6 as F,_ as dt,a as Ke,cd as ft,O as pt,u as Te,a3 as vt,bK as mt,aH as ht,aI as gt,aK as bt,ce as yt,cf as xt,an as wt,am as St,Q as Et,S as Ct,K as S,o as h,$ as b,a8 as ae,v as A,h as x,r as W,g as E,w as R,k as H,L as B,M as Pe,a7 as It,bO as Tt,ar as X,n as Ne,f as ke,l as Pt}from"./index-B3rd6zNp.js";import{i as De,a as Nt,b as kt,d as ze}from"./error-Dd_ncOKP.js";function zt(e){return e}function At(e,n,s){switch(s.length){case 0:return e.call(n);case 1:return e.call(n,s[0]);case 2:return e.call(n,s[0],s[1]);case 3:return e.call(n,s[0],s[1],s[2])}return e.apply(n,s)}var Ft=800,Ot=16,Vt=Date.now;function Lt(e){var n=0,s=0;return function(){var a=Vt(),r=Ot-(a-s);if(s=a,r>0){if(++n>=Ft)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function Mt(e){return function(){return e}}var Rt=Se?function(e,n){return Se(e,"toString",{configurable:!0,enumerable:!1,value:Mt(n),writable:!0})}:zt,Ht=Lt(Rt),Ae=Math.max;function Bt(e,n,s){return n=Ae(n===void 0?e.length-1:n,0),function(){for(var a=arguments,r=-1,l=Ae(a.length-n,0),u=Array(l);++r<l;)u[r]=a[n+r];r=-1;for(var c=Array(n+1);++r<n;)c[r]=a[r];return c[n]=s(u),At(e,this,c)}}var Fe=Ee?Ee.isConcatSpreadable:void 0;function $t(e){return se(e)||De(e)||!!(Fe&&e&&e[Fe])}function Kt(e,n,s,a,r){var l=-1,u=e.length;for(s||(s=$t),r||(r=[]);++l<u;){var c=e[l];s(c)?Nt(r,c):r[r.length]=c}return r}function Dt(e){var n=e==null?0:e.length;return n?Kt(e):[]}function Ut(e){return Ht(Bt(e,void 0,Dt),e+"")}function wn(){if(!arguments.length)return[];var e=arguments[0];return se(e)?e:[e]}function _t(e,n){return e!=null&&n in Object(e)}function Wt(e,n,s){n=Re(n,e);for(var a=-1,r=n.length,l=!1;++a<r;){var u=at(n[a]);if(!(l=e!=null&&s(e,u)))break;e=e[u]}return l||++a!=r?l:(r=e==null?0:e.length,!!r&&kt(r)&&ot(u,r)&&(se(e)||De(e)))}function Xt(e,n){return e!=null&&Wt(e,n,_t)}function Yt(e,n,s){for(var a=-1,r=n.length,l={};++a<r;){var u=n[a],c=st(e,u);s(c,u)&&rt(l,Re(u,e),c)}return l}function qt(e,n){return Yt(e,n,function(s,a){return Xt(e,a)})}var Gt=Ut(function(e,n){return e==null?{}:qt(e,n)});const oe="update:modelValue",Oe="change",Ve="input",Qt=()=>He&&/firefox/i.test(window.navigator.userAgent);let w;const Zt={height:"0",visibility:"hidden",overflow:Qt()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Jt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"];function jt(e){const n=window.getComputedStyle(e),s=n.getPropertyValue("box-sizing"),a=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),r=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:Jt.map(u=>[u,n.getPropertyValue(u)]),paddingSize:a,borderSize:r,boxSizing:s}}function Le(e,n=1,s){var a,r;w||(w=document.createElement("textarea"),((a=e.parentNode)!=null?a:document.body).appendChild(w));const{paddingSize:l,borderSize:u,boxSizing:c,contextStyle:p}=jt(e);p.forEach(([y,f])=>w?.style.setProperty(y,f)),Object.entries(Zt).forEach(([y,f])=>w?.style.setProperty(y,f,"important")),w.value=e.value||e.placeholder||"";let v=w.scrollHeight;const m={};c==="border-box"?v=v+u:c==="content-box"&&(v=v-l),w.value="";const I=w.scrollHeight-l;if(Ce(n)){let y=I*n;c==="border-box"&&(y=y+l+u),v=Math.max(y,v),m.minHeight=`${y}px`}if(Ce(s)){let y=I*s;c==="border-box"&&(y=y+l+u),v=Math.min(y,v)}return m.height=`${v}px`,(r=w.parentNode)==null||r.removeChild(w),w=void 0,m}const en=Be({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),tn=e=>Gt(en,e),nn=Be({id:{type:String,default:void 0},size:ut,disabled:Boolean,modelValue:{type:M([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:M([Boolean,Object]),default:!1},autocomplete:{type:M(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:te,default:lt},showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:te},prefixIcon:{type:te},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:M([Object,Array,String]),default:()=>it({})},autofocus:Boolean,rows:{type:Number,default:2},...tn(["ariaLabel"]),inputmode:{type:M(String),default:void 0},name:String}),an={[oe]:e=>ee(e),input:e=>ee(e),change:e=>ee(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},on=["class","style"],sn=/^on[A-Z]/,rn=(e={})=>{const{excludeListeners:n=!1,excludeKeys:s}=e,a=g(()=>(s?.value||[]).concat(on)),r=$e();return r?g(()=>{var l;return ct(Object.entries((l=r.proxy)==null?void 0:l.$attrs).filter(([u])=>!a.value.includes(u)&&!(n&&sn.test(u))))}):g(()=>({}))},ln='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Me=e=>typeof Element>"u"?!1:e instanceof Element,un=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,Sn=e=>Array.from(e.querySelectorAll(ln)).filter(n=>re(n)&&un(n)),re=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},En=function(e,n,...s){let a;n.includes("mouse")||n.includes("click")?a="MouseEvents":n.includes("key")?a="KeyboardEvent":a="HTMLEvents";const r=document.createEvent(a);return r.initEvent(n,...s),e.dispatchEvent(r),e},Cn=(e,n)=>{if(!e||!e.focus)return;let s=!1;Me(e)&&!re(e)&&!e.getAttribute("tabindex")&&(e.setAttribute("tabindex","-1"),s=!0),e.focus(n),Me(e)&&s&&e.removeAttribute("tabindex")};function cn(e,{disabled:n,beforeFocus:s,afterFocus:a,beforeBlur:r,afterBlur:l}={}){const u=$e(),{emit:c}=u,p=Y(),v=$(!1),m=f=>{const i=Ie(s)?s(f):!1;o(n)||v.value||i||(v.value=!0,c("focus",f),a?.())},I=f=>{var i;const T=Ie(r)?r(f):!1;o(n)||f.relatedTarget&&((i=p.value)!=null&&i.contains(f.relatedTarget))||T||(v.value=!1,c("blur",f),l?.())},y=f=>{var i,T;o(n)||re(f.target)||(i=p.value)!=null&&i.contains(document.activeElement)&&p.value!==document.activeElement||(T=e.value)==null||T.focus()};return q([p,()=>o(n)],([f,i])=>{f&&(i?f.removeAttribute("tabindex"):f.setAttribute("tabindex","-1"))}),ne(p,"focus",m,!0),ne(p,"blur",I,!0),ne(p,"click",y,!0),{isFocused:v,wrapperRef:p,handleFocus:m,handleBlur:I}}const dn=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function fn({afterComposition:e,emit:n}){const s=$(!1),a=c=>{n?.("compositionstart",c),s.value=!0},r=c=>{var p;n?.("compositionupdate",c);const v=(p=c.target)==null?void 0:p.value,m=v[v.length-1]||"";s.value=!dn(m)},l=c=>{n?.("compositionend",c),s.value&&(s.value=!1,F(()=>e(c)))};return{isComposing:s,handleComposition:c=>{c.type==="compositionend"?l(c):r(c)},handleCompositionStart:a,handleCompositionUpdate:r,handleCompositionEnd:l}}function pn(e){let n;function s(){if(e.value==null)return;const{selectionStart:r,selectionEnd:l,value:u}=e.value;if(r==null||l==null)return;const c=u.slice(0,Math.max(0,r)),p=u.slice(Math.max(0,l));n={selectionStart:r,selectionEnd:l,value:u,beforeTxt:c,afterTxt:p}}function a(){if(e.value==null||n==null)return;const{value:r}=e.value,{beforeTxt:l,afterTxt:u,selectionStart:c}=n;if(l==null||u==null||c==null)return;let p=r.length;if(r.endsWith(u))p=r.length-u.length;else if(r.startsWith(l))p=l.length;else{const v=l[c-1],m=r.indexOf(v,c-1);m!==-1&&(p=m+1)}e.value.setSelectionRange(p,p)}return[s,a]}const vn="ElInput",mn=Ke({name:vn,inheritAttrs:!1}),hn=Ke({...mn,props:nn,emits:an,setup(e,{expose:n,emit:s}){const a=e,r=ft(),l=rn(),u=pt(),c=g(()=>[a.type==="textarea"?T.b():i.b(),i.m(y.value),i.is("disabled",f.value),i.is("exceed",qe.value),{[i.b("group")]:u.prepend||u.append,[i.m("prefix")]:u.prefix||a.prefixIcon,[i.m("suffix")]:u.suffix||a.suffixIcon||a.clearable||a.showPassword,[i.bm("suffix","password-clear")]:_.value&&Z.value,[i.b("hidden")]:a.type==="hidden"},r.class]),p=g(()=>[i.e("wrapper"),i.is("focus",Q.value)]),{form:v,formItem:m}=ht(),{inputId:I}=gt(a,{formItemContext:m}),y=vt(),f=mt(),i=Te("input"),T=Te("textarea"),K=Y(),C=Y(),G=$(!1),D=$(!1),ie=$(),U=Y(a.inputStyle),N=g(()=>K.value||C.value),{wrapperRef:Ue,isFocused:Q,handleFocus:_e,handleBlur:We}=cn(N,{disabled:f,afterBlur(){var t;a.validateEvent&&((t=m?.validate)==null||t.call(m,"blur").catch(d=>ze()))}}),le=g(()=>{var t;return(t=v?.statusIcon)!=null?t:!1}),O=g(()=>m?.validateState||""),ue=g(()=>O.value&&bt[O.value]),Xe=g(()=>D.value?yt:xt),Ye=g(()=>[r.style]),ce=g(()=>[a.inputStyle,U.value,{resize:a.resize}]),P=g(()=>wt(a.modelValue)?"":String(a.modelValue)),_=g(()=>a.clearable&&!f.value&&!a.readonly&&!!P.value&&(Q.value||G.value)),Z=g(()=>a.showPassword&&!f.value&&!!P.value),k=g(()=>a.showWordLimit&&!!a.maxlength&&(a.type==="text"||a.type==="textarea")&&!f.value&&!a.readonly&&!a.showPassword),J=g(()=>P.value.length),qe=g(()=>!!k.value&&J.value>Number(a.maxlength)),Ge=g(()=>!!u.suffix||!!a.suffixIcon||_.value||a.showPassword||k.value||!!O.value&&le.value),[de,fe]=pn(K);St(C,t=>{if(Qe(),!k.value||a.resize!=="both")return;const d=t[0],{width:z}=d.contentRect;ie.value={right:`calc(100% - ${z+15+6}px)`}});const V=()=>{const{type:t,autosize:d}=a;if(!(!He||t!=="textarea"||!C.value))if(d){const z=ke(d)?d.minRows:void 0,xe=ke(d)?d.maxRows:void 0,we=Le(C.value,z,xe);U.value={overflowY:"hidden",...we},F(()=>{C.value.offsetHeight,U.value=we})}else U.value={minHeight:Le(C.value).minHeight}},Qe=(t=>{let d=!1;return()=>{var z;if(d||!a.autosize)return;((z=C.value)==null?void 0:z.offsetParent)===null||(setTimeout(t),d=!0)}})(V),L=()=>{const t=N.value,d=a.formatter?a.formatter(P.value):P.value;!t||t.value===d||(t.value=d)},j=async t=>{de();let{value:d}=t.target;if(a.formatter&&a.parser&&(d=a.parser(d)),!ve.value){if(d===P.value){L();return}s(oe,d),s(Ve,d),await F(),L(),fe()}},pe=t=>{let{value:d}=t.target;a.formatter&&a.parser&&(d=a.parser(d)),s(Oe,d)},{isComposing:ve,handleCompositionStart:me,handleCompositionUpdate:he,handleCompositionEnd:ge}=fn({emit:s,afterComposition:j}),Ze=()=>{de(),D.value=!D.value,setTimeout(fe)},Je=()=>{var t;return(t=N.value)==null?void 0:t.focus()},je=()=>{var t;return(t=N.value)==null?void 0:t.blur()},et=t=>{G.value=!1,s("mouseleave",t)},tt=t=>{G.value=!0,s("mouseenter",t)},be=t=>{s("keydown",t)},nt=()=>{var t;(t=N.value)==null||t.select()},ye=()=>{s(oe,""),s(Oe,""),s("clear"),s(Ve,"")};return q(()=>a.modelValue,()=>{var t;F(()=>V()),a.validateEvent&&((t=m?.validate)==null||t.call(m,"change").catch(d=>ze()))}),q(P,()=>L()),q(()=>a.type,async()=>{await F(),L(),V()}),Et(()=>{!a.formatter&&a.parser,L(),F(V)}),n({input:K,textarea:C,ref:N,textareaStyle:ce,autosize:Ct(a,"autosize"),isComposing:ve,focus:Je,blur:je,select:nt,clear:ye,resizeTextarea:V}),(t,d)=>(h(),S("div",{class:x([o(c),{[o(i).bm("group","append")]:t.$slots.append,[o(i).bm("group","prepend")]:t.$slots.prepend}]),style:Ne(o(Ye)),onMouseenter:tt,onMouseleave:et},[b(" input "),t.type!=="textarea"?(h(),S(ae,{key:0},[b(" prepend slot "),t.$slots.prepend?(h(),S("div",{key:0,class:x(o(i).be("group","prepend"))},[W(t.$slots,"prepend")],2)):b("v-if",!0),A("div",{ref_key:"wrapperRef",ref:Ue,class:x(o(p))},[b(" prefix slot "),t.$slots.prefix||t.prefixIcon?(h(),S("span",{key:0,class:x(o(i).e("prefix"))},[A("span",{class:x(o(i).e("prefix-inner"))},[W(t.$slots,"prefix"),t.prefixIcon?(h(),E(o(B),{key:0,class:x(o(i).e("icon"))},{default:R(()=>[(h(),E(H(t.prefixIcon)))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0),A("input",Pe({id:o(I),ref_key:"input",ref:K,class:o(i).e("inner")},o(l),{name:t.name,minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?D.value?"text":"password":t.type,disabled:o(f),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,inputmode:t.inputmode,onCompositionstart:o(me),onCompositionupdate:o(he),onCompositionend:o(ge),onInput:j,onChange:pe,onKeydown:be}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),b(" suffix slot "),o(Ge)?(h(),S("span",{key:1,class:x(o(i).e("suffix"))},[A("span",{class:x(o(i).e("suffix-inner"))},[!o(_)||!o(Z)||!o(k)?(h(),S(ae,{key:0},[W(t.$slots,"suffix"),t.suffixIcon?(h(),E(o(B),{key:0,class:x(o(i).e("icon"))},{default:R(()=>[(h(),E(H(t.suffixIcon)))]),_:1},8,["class"])):b("v-if",!0)],64)):b("v-if",!0),o(_)?(h(),E(o(B),{key:1,class:x([o(i).e("icon"),o(i).e("clear")]),onMousedown:It(o(Tt),["prevent"]),onClick:ye},{default:R(()=>[(h(),E(H(t.clearIcon)))]),_:1},8,["class","onMousedown"])):b("v-if",!0),o(Z)?(h(),E(o(B),{key:2,class:x([o(i).e("icon"),o(i).e("password")]),onClick:Ze},{default:R(()=>[(h(),E(H(o(Xe))))]),_:1},8,["class"])):b("v-if",!0),o(k)?(h(),S("span",{key:3,class:x(o(i).e("count"))},[A("span",{class:x(o(i).e("count-inner"))},X(o(J))+" / "+X(t.maxlength),3)],2)):b("v-if",!0),o(O)&&o(ue)&&o(le)?(h(),E(o(B),{key:4,class:x([o(i).e("icon"),o(i).e("validateIcon"),o(i).is("loading",o(O)==="validating")])},{default:R(()=>[(h(),E(H(o(ue))))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0)],2),b(" append slot "),t.$slots.append?(h(),S("div",{key:1,class:x(o(i).be("group","append"))},[W(t.$slots,"append")],2)):b("v-if",!0)],64)):(h(),S(ae,{key:1},[b(" textarea "),A("textarea",Pe({id:o(I),ref_key:"textarea",ref:C,class:[o(T).e("inner"),o(i).is("focus",o(Q))]},o(l),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:o(f),readonly:t.readonly,autocomplete:t.autocomplete,style:o(ce),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:o(me),onCompositionupdate:o(he),onCompositionend:o(ge),onInput:j,onFocus:o(_e),onBlur:o(We),onChange:pe,onKeydown:be}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),o(k)?(h(),S("span",{key:0,style:Ne(ie.value),class:x(o(i).e("count"))},X(o(J))+" / "+X(t.maxlength),7)):b("v-if",!0)],64))],38))}});var gn=dt(hn,[["__file","input.vue"]]);const In=Pt(gn);export{Oe as C,In as E,oe as U,cn as a,tn as b,wn as c,Kt as d,re as e,Cn as f,Sn as g,Xt as h,zt as i,Bt as o,Gt as p,Ht as s,En as t,fn as u};
