import{b as O,m as y,d as v,_ as L,a as $,i as h,c as g,u as U,e as S,f as z,g as w,o as b,w as l,r as B,n as P,h as F,j as d,k as I,l as K,p as D,q as V,s as J,t as s,v as k,x as R,y as C,E as M,z as c,A as Z,B as G,C as H,D as Q,F as W}from"./index-B3rd6zNp.js";import{E as X}from"./el-checkbox-Bl4qJKzB.js";import{E as Y,a as ee}from"./el-form-item-x17sI6DF.js";import{E as se}from"./el-link-DPSCD4W9.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as le}from"./index-CiAHT4PG.js";import"./error-Dd_ncOKP.js";import"./isEqual-B5ScwEK_.js";import"./_baseClone-D1382vmB.js";const ae=O({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:v([Number,Object]),default:()=>y({})},sm:{type:v([Number,Object]),default:()=>y({})},md:{type:v([Number,Object]),default:()=>y({})},lg:{type:v([Number,Object]),default:()=>y({})},xl:{type:v([Number,Object]),default:()=>y({})}}),q=Symbol("rowContextKey"),oe=$({name:"ElCol"}),re=$({...oe,props:ae,setup(x){const o=x,{gutter:t}=h(q,{gutter:g(()=>0)}),u=U("col"),i=g(()=>{const a={};return t.value&&(a.paddingLeft=a.paddingRight=`${t.value/2}px`),a}),_=g(()=>{const a=[];return["span","offset","pull","push"].forEach(r=>{const n=o[r];S(n)&&(r==="span"?a.push(u.b(`${o[r]}`)):n>0&&a.push(u.b(`${r}-${o[r]}`)))}),["xs","sm","md","lg","xl"].forEach(r=>{S(o[r])?a.push(u.b(`${r}-${o[r]}`)):z(o[r])&&Object.entries(o[r]).forEach(([n,f])=>{a.push(n!=="span"?u.b(`${r}-${n}-${f}`):u.b(`${r}-${f}`))})}),t.value&&a.push(u.is("guttered")),[u.b(),a]});return(a,m)=>(b(),w(I(a.tag),{class:F(d(_)),style:P(d(i))},{default:l(()=>[B(a.$slots,"default")]),_:3},8,["class","style"]))}});var ne=L(re,[["__file","col.vue"]]);const ue=K(ne),pe=["start","center","end","space-around","space-between","space-evenly"],de=["top","middle","bottom"],ie=O({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:pe,default:"start"},align:{type:String,values:de}}),fe=$({name:"ElRow"}),me=$({...fe,props:ie,setup(x){const o=x,t=U("row"),u=g(()=>o.gutter);D(q,{gutter:u});const i=g(()=>{const a={};return o.gutter&&(a.marginRight=a.marginLeft=`-${o.gutter/2}px`),a}),_=g(()=>[t.b(),t.is(`justify-${o.justify}`,o.justify!=="start"),t.is(`align-${o.align}`,!!o.align)]);return(a,m)=>(b(),w(I(a.tag),{class:F(d(_)),style:P(d(i))},{default:l(()=>[B(a.$slots,"default")]),_:3},8,["class","style"]))}});var ce=L(me,[["__file","row.vue"]]);const ge=K(ce),_e={class:"flex"},ye={__name:"LoginPage",setup(x){const o=V(!0);J(o,()=>{t.value={username:"",password:"",repassword:""}});const t=V({username:"",password:"",repassword:""}),u={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^[A-Z-a-z-0-9]{1,10}$/,message:"用户名长度为1-10位大小写字母和数字",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码为6-15位非空格字符",trigger:"change"}],repassword:[{validator:(m,e,r)=>{e!==t.value.password?r(new Error("两次密码不一致")):r()}}]},i=V(null),_=async()=>{await i.value.validate(),await Z(t.value),o.value=!1},a=async()=>{await i.value.validate();const m=await G(t.value);H().setToken(m.data.token),Q.success("登录成功"),W.push("/")};return(m,e)=>{const r=ue,n=ee,f=le,N=M,E=se,j=Y,A=X,T=ge;return b(),w(T,{class:"login-page"},{default:l(()=>[s(r,{span:12,class:"bg"}),s(r,{span:6,offset:3,class:"form"},{default:l(()=>[o.value?(b(),w(j,{key:0,model:t.value,rules:u,ref_key:"form",ref:i,size:"large",autocomplete:"off"},{default:l(()=>[s(n,null,{default:l(()=>[...e[7]||(e[7]=[k("h1",null,"注册",-1)])]),_:1}),s(n,{prop:"username"},{default:l(()=>[s(f,{modelValue:t.value.username,"onUpdate:modelValue":e[0]||(e[0]=p=>t.value.username=p),"prefix-icon":d(R),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),s(n,{prop:"password"},{default:l(()=>[s(f,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=p=>t.value.password=p),"prefix-icon":d(C),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(n,{prop:"repassword"},{default:l(()=>[s(f,{modelValue:t.value.repassword,"onUpdate:modelValue":e[2]||(e[2]=p=>t.value.repassword=p),"prefix-icon":d(C),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(n,null,{default:l(()=>[s(N,{onClick:_,class:"button",type:"primary","auto-insert-space":""},{default:l(()=>[...e[8]||(e[8]=[c(" 注册 ",-1)])]),_:1})]),_:1}),s(n,{class:"flex"},{default:l(()=>[s(E,{type:"info",underline:!1,onClick:e[3]||(e[3]=p=>o.value=!1)},{default:l(()=>[...e[9]||(e[9]=[c(" ← 返回 ",-1)])]),_:1})]),_:1})]),_:1},8,["model"])):(b(),w(j,{key:1,model:t.value,rules:u,ref_key:"form",ref:i,size:"large",autocomplete:"off"},{default:l(()=>[s(n,null,{default:l(()=>[...e[10]||(e[10]=[k("h1",null,"登录",-1)])]),_:1}),s(n,{prop:"username"},{default:l(()=>[s(f,{modelValue:t.value.username,"onUpdate:modelValue":e[4]||(e[4]=p=>t.value.username=p),"prefix-icon":d(R),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),s(n,{prop:"password"},{default:l(()=>[s(f,{modelValue:t.value.password,"onUpdate:modelValue":e[5]||(e[5]=p=>t.value.password=p),name:"password","prefix-icon":d(C),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(n,{class:"flex"},{default:l(()=>[k("div",_e,[s(A,null,{default:l(()=>[...e[11]||(e[11]=[c("记住我",-1)])]),_:1}),s(E,{type:"primary",underline:!1},{default:l(()=>[...e[12]||(e[12]=[c("忘记密码？",-1)])]),_:1})])]),_:1}),s(n,null,{default:l(()=>[s(N,{onClick:a,class:"button",type:"primary","auto-insert-space":""},{default:l(()=>[...e[13]||(e[13]=[c("登录 ",-1)])]),_:1})]),_:1}),s(n,{class:"flex"},{default:l(()=>[s(E,{type:"info",underline:!1,onClick:e[6]||(e[6]=p=>o.value=!0)},{default:l(()=>[...e[14]||(e[14]=[c(" 注册 → ",-1)])]),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},Ne=te(ye,[["__scopeId","data-v-63d9f1df"]]);export{Ne as default};
