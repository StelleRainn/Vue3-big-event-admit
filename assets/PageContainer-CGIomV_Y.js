import{b as M,d as Y,_ as Z,a as N,bd as J,u as Q,K as $,o as w,$ as E,v as A,h as _,j as m,r as C,z as L,ar as B,n as U,l as W,q as j,af as X,cq as ee,aG as te,c1 as se,ag as b,w as I,ah as ae,t as oe,ai as ne,T as le,ab as k,aO as re,a6 as R,I as q,b$ as p,a9 as P,f as G,bC as ie,cr as de,g as ce}from"./index-BNebTW0K.js";const ue=M({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Y([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:void 0}}),ve=N({name:"ElCard"}),fe=N({...ve,props:ue,setup(e){const t=J("card"),s=Q("card");return(a,o)=>{var l;return w(),$("div",{class:_([m(s).b(),m(s).is(`${a.shadow||((l=m(t))==null?void 0:l.shadow)||"always"}-shadow`)])},[a.$slots.header||a.header?(w(),$("div",{key:0,class:_([m(s).e("header"),a.headerClass])},[C(a.$slots,"header",{},()=>[L(B(a.header),1)])],2)):E("v-if",!0),A("div",{class:_([m(s).e("body"),a.bodyClass]),style:U(a.bodyStyle)},[C(a.$slots,"default")],6),a.$slots.footer||a.footer?(w(),$("div",{key:1,class:_([m(s).e("footer"),a.footerClass])},[C(a.$slots,"footer",{},()=>[L(B(a.footer),1)])],2)):E("v-if",!0)],2)}}});var ge=Z(fe,[["__file","card.vue"]]);const me=W(ge);function be(e,t){let s;const a=j(!1),o=X({...e,originalPosition:"",originalOverflow:"",visible:!1});function l(n){o.text=n}function d(){const n=o.parent,c=v.ns;if(!n.vLoadingAddClassList){let i=n.getAttribute("loading-number");i=Number.parseInt(i)-1,i?n.setAttribute("loading-number",i.toString()):(k(n,c.bm("parent","relative")),n.removeAttribute("loading-number")),k(n,c.bm("parent","hidden"))}u(),g.unmount()}function u(){var n,c;(c=(n=v.$el)==null?void 0:n.parentNode)==null||c.removeChild(v.$el)}function S(){var n;e.beforeClose&&!e.beforeClose()||(a.value=!0,clearTimeout(s),s=setTimeout(r,400),o.visible=!1,(n=e.closed)==null||n.call(e))}function r(){if(!a.value)return;const n=o.parent;a.value=!1,n.vLoadingAddClassList=void 0,d()}const h=N({name:"ElLoading",setup(n,{expose:c}){const{ns:i,zIndex:K}=se("loading");return c({ns:i,zIndex:K}),()=>{const V=o.spinner||o.svg,F=b("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"0 0 50 50",...V?{innerHTML:V}:{}},[b("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),H=o.text?b("p",{class:i.b("text")},[o.text]):void 0;return b(le,{name:i.b("fade"),onAfterLeave:r},{default:I(()=>[ae(oe("div",{style:{backgroundColor:o.background||""},class:[i.b("mask"),o.customClass,o.fullscreen?"is-fullscreen":""]},[b("div",{class:i.b("spinner")},[F,H])]),[[ne,o.visible]])])})}}}),g=ee(h);Object.assign(g._context,t??{});const v=g.mount(document.createElement("div"));return{...te(o),setText:l,removeElLoadingChild:u,close:S,handleAfterLeave:r,vm:v,get $el(){return v.$el}}}let x;const T=function(e={}){if(!re)return;const t=pe(e);if(t.fullscreen&&x)return x;const s=be({...t,closed:()=>{var o;(o=t.closed)==null||o.call(t),t.fullscreen&&(x=void 0)}},T._context);ye(t,t.parent,s),O(t,t.parent,s),t.parent.vLoadingAddClassList=()=>O(t,t.parent,s);let a=t.parent.getAttribute("loading-number");return a?a=`${Number.parseInt(a)+1}`:a="1",t.parent.setAttribute("loading-number",a),t.parent.appendChild(s.$el),R(()=>s.visible.value=t.visible),t.fullscreen&&(x=s),s},pe=e=>{var t,s,a,o;let l;return q(e.target)?l=(t=document.querySelector(e.target))!=null?t:document.body:l=e.target||document.body,{parent:l===document.body||e.body?document.body:l,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:l===document.body&&((s=e.fullscreen)!=null?s:!0),lock:(a=e.lock)!=null?a:!1,customClass:e.customClass||"",visible:(o=e.visible)!=null?o:!0,beforeClose:e.beforeClose,closed:e.closed,target:l}},ye=async(e,t,s)=>{const{nextZIndex:a}=s.vm.zIndex||s.vm._.exposed.zIndex,o={};if(e.fullscreen)s.originalPosition.value=p(document.body,"position"),s.originalOverflow.value=p(document.body,"overflow"),o.zIndex=a();else if(e.parent===document.body){s.originalPosition.value=p(document.body,"position"),await R();for(const l of["top","left"]){const d=l==="top"?"scrollTop":"scrollLeft";o[l]=`${e.target.getBoundingClientRect()[l]+document.body[d]+document.documentElement[d]-Number.parseInt(p(document.body,`margin-${l}`),10)}px`}for(const l of["height","width"])o[l]=`${e.target.getBoundingClientRect()[l]}px`}else s.originalPosition.value=p(t,"position");for(const[l,d]of Object.entries(o))s.$el.style[l]=d},O=(e,t,s)=>{const a=s.vm.ns||s.vm._.exposed.ns;["absolute","fixed","sticky"].includes(s.originalPosition.value)?k(t,a.bm("parent","relative")):P(t,a.bm("parent","relative")),e.fullscreen&&e.lock?P(t,a.bm("parent","hidden")):k(t,a.bm("parent","hidden"))};T._context=null;const y=Symbol("ElLoading"),f=e=>`element-loading-${de(e)}`,z=(e,t)=>{var s,a,o,l;const d=t.instance,u=n=>G(t.value)?t.value[n]:void 0,S=n=>{const c=q(n)&&d?.[n]||n;return j(c)},r=n=>S(u(n)||e.getAttribute(f(n))),h=(s=u("fullscreen"))!=null?s:t.modifiers.fullscreen,g={text:r("text"),svg:r("svg"),svgViewBox:r("svgViewBox"),spinner:r("spinner"),background:r("background"),customClass:r("customClass"),fullscreen:h,target:(a=u("target"))!=null?a:h?void 0:e,body:(o=u("body"))!=null?o:t.modifiers.body,lock:(l=u("lock"))!=null?l:t.modifiers.lock},v=T(g);v._context=D._context,e[y]={options:g,instance:v}},Ce=(e,t)=>{for(const s of Object.keys(e))ie(e[s])&&(e[s].value=t[s])},D={mounted(e,t){t.value&&z(e,t)},updated(e,t){const s=e[y];if(!t.value){s?.instance.close(),e[y]=null;return}s?Ce(s.options,G(t.value)?t.value:{text:e.getAttribute(f("text")),svg:e.getAttribute(f("svg")),svgViewBox:e.getAttribute(f("svgViewBox")),spinner:e.getAttribute(f("spinner")),background:e.getAttribute(f("background")),customClass:e.getAttribute(f("customClass"))}):z(e,t)},unmounted(e){var t;(t=e[y])==null||t.instance.close(),e[y]=null}};D._context=null;const he={class:"card-header"},xe={__name:"PageContainer",props:{title:String},setup(e){return(t,s)=>{const a=me;return w(),ce(a,{class:"page-container"},{header:I(()=>[A("div",he,[A("span",null,B(e.title),1),C(t.$slots,"extra")])]),default:I(()=>[C(t.$slots,"default",{},()=>[s[0]||(s[0]=L("The default, 内容将由父组件提供",-1))])]),_:3})}}};export{xe as _,D as v};
